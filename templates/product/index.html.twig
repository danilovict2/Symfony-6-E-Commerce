{% extends 'base.html.twig' %}

{% block body %}
	<main class="p-5">
		<div class="grid gap-8 grig-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 p-5">
			{% for product in products %}
				<div x-data="productItem({
													            id: {{ product.id }},
													            image: '{{ product.image }}',
													            title: '{{ product.title }}',
													            price: {{ product.price }}
													          })" class="border border-1 border-gray-200 rounded-md hover:border-purple-600 transition-colors bg-white">
					<a href="#" class="block overflow-hidden">
                        {% if product.image %}
                            <img src="{{ asset('uploads/photos/' ~ product.image) }}" class="rounded-lg hover:scale-105 hover:rotate-1 transition-transform"/>
                        {% endif %}
					</a>
					<div class="p-4">
						<h3 class="text-lg">
							<a href="#">
								{{ product.title }}
							</a>
						</h3>
						<h5 class="font-bold">{{ product.price }}</h5>
					</div>
					<div class="flex justify-between py-3 px-4">
                        <!--TODO: Create vue component -->
						<button @click="addToWatchlist()" class="w-10 h-10 rounded-full border border-1 border-purple-600 flex items-center justify-center hover:bg-purple-600 hover:text-white active:bg-purple-800 transition-colors" :class="isInWatchlist(id) ? 'bg-purple-600 text-white' : 'text-purple-600'">
							<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="2">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
							</svg>
						</button>
                        <!--TODO: Create vue component -->
						<button class="btn-primary" @click="addToCart(id)">
							Add to Cart
						</button>
					</div>
				</div>
			{% endfor %}
		</div>
	</main>
{% endblock %}
